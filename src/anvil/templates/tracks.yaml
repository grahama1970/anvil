# Track configuration for debugger (generated by dbg init)
#
# Providers (examples):
# - provider: manual
# - provider: copilot  (uses `copilot --model ... -p ...`)
# - provider: gemini   (uses `gemini --model ... --prompt ...`)
# - provider: gh_cli   (stub; customize in code)
#
# Per-track model selection is supported via `model: ...`.
# You can mix-and-match models/providers across tracks based on their strengths.
#
# Optional provider-specific knobs can be provided via `provider_options`.
# Example:
#   provider: copilot
#   model: claude-sonnet-4.5
#   provider_options:
#     allow_all_tools: false
#     allow_all_paths: false
#     timeout_s: 600
tracks:
  - name: A
    role: backend_fixer
    provider: manual
    model: null
    directions_profile: strict_minimal_patch
    budgets: {max_iters: 3, max_calls: 12}
  - name: B
    role: explorer
    provider: manual
    model: null
    directions_profile: creative_unblock_then_minimize
    budgets: {max_iters: 3, max_calls: 12}

policy:
  mode: auto_escalate
  max_tracks: 4
  spawn_breaker: true
  escalate_if:
    - both_tracks_repro_failed_after_iters: 2
    - verify_failed_times: 1
    - confidence_below: 0.55

collab:
  mode: observations
  sync_every_iters: 2

context:
  use_treesitter: false
  max_files: 25
